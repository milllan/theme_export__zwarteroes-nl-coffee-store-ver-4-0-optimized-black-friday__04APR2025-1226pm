
{% style %}
  .count-{{ section.id }} {
    background-color: {{ section.settings.bg_color }};
    color: {{ section.settings.text_color }};
  }
  {% if section.settings.button_style == 'custom' %} 
    .count-{{ section.id }} .btn-custom {
      background:{{ section.settings.button_color }};
      border-color:{{ section.settings.button_color }};
      color:{{ section.settings.button_label_color }};
    }
    .count-{{ section.id }} .btn-custom:hover {
      background:{{ section.settings.button_label_color }} !important;
      color:{{ section.settings.button_color }};
    }
  {% endif %}  
{% endstyle %}

{%- if section.settings.divider -%}<div class="section--divider">{%- endif -%}

<div class="counting-section {{ section.settings.layout }}_section count-{{ section.id }}">
  {%- if section.settings.layout == "count_2" -%}
    <img class="white-border lazyload" src="{{ 'WHITE-BORDER.png' | asset_url }}">
  {%- endif -%}

  <div class="page-width"> 
    <div class="wrapper">
      <div class="feature__item item__text" data-aos>
        {%- if section.settings.title != blank -%}
          <div class="h1 appear-delay{% cycle '','-1','-2','-3','-4' %}" style="color: {{ section.settings.text_color }}">{{ section.settings.title | escape }}</div>
        {%- endif -%}
        {%- if section.settings.text != blank -%}
          <div class="rte appear-delay{% cycle '','-1','-2','-3','-4' %}" style="color: {{ section.settings.text_color }}">{{ section.settings.text }}</div>
        {%- endif -%}
        {%- if section.settings.button_label != blank -%}
          <div class="btn-wrapper btn-arrow-wrapper appear-delay{% cycle '','-1','-2','-3','-4' %}">
            <a href="{{ section.settings.button_link }}" class="btn {% if section.settings.button_style == 'secondary' %} btn--tertiary{% elsif section.settings.button_style == 'custom' %} btn-custom{% endif %}">
              {{ section.settings.button_label }}
            </a>
            <img class="img-arrow lazyload" src="{{ 'arrow-vector.png' | asset_url }}">
          </div>
        {%- endif -%}
      </div>

      <div class="feature__item item__count" data-aos>
        {%- if section.settings.count != blank -%}
          <div class="count__grid">
            <div class="count {{ section.settings.layout }} appear-delay{% cycle '','-1','-2','-3','-4' %}" data-count="{{ section.settings.count }}">
              {% assign numbers = section.settings.count | split: "" %}
              {% for number in numbers %}
               <span> {{ number }} </span>
              {% endfor %}
            </div>
          {% if section.settings.show_heart %}
            <div class="count">
              <span class="count__like-icon">
                <svg class="heart_normal" width="63" height="58" viewBox="0 0 63 58" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M45.5625 0.375C40.125 0.375 34.9062 2.90625 31.5 6.90625C28.0938 2.90625 22.875 0.375 17.4375 0.375C7.8125 0.375 0.25 7.9375 0.25 17.5625C0.25 29.375 10.875 39 26.9688 53.625L31.5 57.7188L36.0312 53.5938C52.125 39 62.75 29.375 62.75 17.5625C62.75 7.9375 55.1875 0.375 45.5625 0.375ZM31.8125 48.9687L31.5 49.2812L31.1875 48.9687C16.3125 35.5 6.5 26.5938 6.5 17.5625C6.5 11.3125 11.1875 6.625 17.4375 6.625C22.25 6.625 26.9375 9.71875 28.5938 14H34.4375C36.0625 9.71875 40.75 6.625 45.5625 6.625C51.8125 6.625 56.5 11.3125 56.5 17.5625C56.5 26.5938 46.6875 35.5 31.8125 48.9687Z" fill="#AFAFAF"/>
                </svg>
                <svg class="heart_active" width="63" height="58" viewBox="0 0 63 58" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M31.5 57.7188L26.9688 53.5938C10.875 39 0.25 29.375 0.25 17.5625C0.25 7.9375 7.8125 0.375 17.4375 0.375C22.875 0.375 28.0938 2.90625 31.5 6.90625C34.9062 2.90625 40.125 0.375 45.5625 0.375C55.1875 0.375 62.75 7.9375 62.75 17.5625C62.75 29.375 52.125 39 36.0312 53.625L31.5 57.7188Z" fill="#DA642A"/>
                </svg>
              </span>
            </div>
            {% endif %}
          </div>
        {%- endif -%}
      </div>

    </div>

  </div>
</div>

{%- if section.settings.divider -%}</div>{%- endif -%}

{% schema %}
  {
    "name": "Count",
    "settings": [
      {
        "type": "color",
        "id": "bg_color",
        "label": "Background Color",
        "default": "#ffffff"
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "Text color",
        "default": "#000000"
      },
      {
        "type": "text",
        "id": "count",
        "label": "Count number"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Image with text"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text",
        "default": "<p>Pair large text with an image to tell a story, explain a detail about your product, or describe a new promotion.</p>"
      },
      {
        "type": "text",
        "id": "button_label",
        "label": "Button label"
      },
      {
        "type": "url",
        "id": "button_link",
        "label": "Button link"
      },
      {
        "type": "select",
        "id": "button_style",
        "label": "Button style",
        "default": "primary",
        "options": [
          {
            "value": "primary",
            "label": "Primary"
          },
          {
            "value": "secondary",
            "label": "Secondary"
          },
          {
            "value": "custom",
            "label": "Custom color"
          }
        ]
      },
      {
        "type": "color",
        "id": "button_color",
        "label": "Button Color",
        "default": "#F0BC1B",
        "info":"It works only on custom button"
      },
      {
        "type": "color",
        "id": "button_label_color",
        "label": "Button Text Color",
        "default": "#FFF",
        "info":"It works only on custom button"
      },
      {
        "type": "select",
        "id": "layout",
        "label": "Layout",
        "default": "count_1",
        "options": [
          {
            "value": "count_1",
            "label": "Count 1"
          },
          {
            "value": "count_2",
            "label": "Count 2"
          }
        ]
      },
      {
        "type": "checkbox",
        "id": "show_heart",
        "label": "Show Heart",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "divider",
        "label": "Show section divider",
        "default": false
      }
    ],
    "presets": [
      {
        "name": "Count"
      }
    ]
  }
{% endschema %}
